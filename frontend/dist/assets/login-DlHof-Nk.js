import{d as I,r as $,K as F,L as U,a9 as B,N as o,R as N,c as e,V as n,Z as R,S as c,T as f,ab as V,ac as L,U as m,bN as O,i as S,Q as _,ad as j,$ as q}from"./index-sY8U2mN5.js";import{C as T}from"./index-CTAcoXCL.js";import{I as D,_ as K}from"./index-CuhAjkvG.js";import{U as Q}from"./UserOutlined-Dj8xeDjL.js";import{L as Z,C as z}from"./LockOutlined-Dhk9PlHs.js";import{B as A}from"./Col-CfXYHSRU.js";import{_ as E,F as G}from"./TextArea-eBr-9_0I.js";import"./useRefs-BdmXd5te.js";import"./SearchOutlined-BLCZb9-5.js";const H=I({__name:"login",setup(J){const g=S("$http"),p=$(),h=j(),{t:l}=F(),r=U({username:"",password:"",otp:""}),b={username:[{required:!0,message:l("login.userInput"),trigger:"change",transform(t){return t.trim()}}],password:[{required:!0,message:l("login.pwdInput"),trigger:"change"}],otp:[{pattern:/^\d{6}$/,message:l("login.otpInput"),trigger:"change"}]},v=()=>{p.value.validate().then(()=>{g({url:"/login",method:"post",data:r}).then(t=>{t.error?_.error(t.error):(window.localStorage.setItem("token",t.token),_.success(l("login.success")),h.push({name:"dashboard"}))})}).catch(t=>{console.log(t)})},y=()=>{p.value.resetFields()};return(t,a)=>{const x=D,i=E,d=K,u=A,k=R("a-form-model-item"),w=G,C=T;return N(),B(C,{bordered:!1,class:"header-solid h-full ant-card",style:{"border-radius":"12px","box-shadow":"0 0 8px #a7a6a9","background-color":"rgba(255,255,255,0.6)",width:"270px"}},{title:o(()=>a[5]||(a[5]=[m("div",{style:{margin:"20px 0px 10px 0px"}},[m("div",{class:"login-logo"},[m("img",{src:O,style:{width:"24px",height:"24px"}})])],-1)])),default:o(()=>[e(w,{model:r,ref_key:"formRef",ref:p,name:"login",class:"login-form",rules:b,autocomplete:"off"},{default:o(()=>[e(i,{name:"username","has-feedback":""},{default:o(()=>[e(x,{value:r.username,"onUpdate:value":a[0]||(a[0]=s=>r.username=s),placeholder:t.$t("login.userInput")},{prefix:o(()=>[e(n(Q),{style:{color:"#00b96b"}})]),_:1},8,["value","placeholder"])]),_:1}),e(i,{name:"password","has-feedback":""},{default:o(()=>[e(d,{value:r.password,"onUpdate:value":a[1]||(a[1]=s=>r.password=s),placeholder:t.$t("login.pwdInput"),autocomplete:"off"},{prefix:o(()=>[e(n(Z),{style:{color:"#00b96b"}})]),_:1},8,["value","placeholder"])]),_:1}),e(i,{name:"otp","has-feedback":""},{default:o(()=>[e(d,{value:r.otp,"onUpdate:value":a[2]||(a[2]=s=>r.otp=s),placeholder:t.$t("login.otpInput"),autocomplete:"off"},{prefix:o(()=>[e(n(z),{style:{color:"#00b96b"}})]),_:1},8,["value","placeholder"])]),_:1}),e(k,{style:{display:"flex","justify-content":"center"}},{default:o(()=>[e(u,{onClick:a[3]||(a[3]=s=>v()),type:"primary",shape:"round","html-type":"submit"},{icon:o(()=>[e(n(V))]),default:o(()=>[c(" "+f(t.$t("login.login")),1)]),_:1}),e(u,{onClick:a[4]||(a[4]=s=>y()),type:"primary",shape:"round","html-type":"reset",style:{"margin-left":"40px"}},{icon:o(()=>[e(n(L))]),default:o(()=>[c(" "+f(t.$t("login.reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),re=q(H,[["__scopeId","data-v-50a7de86"]]);export{re as default};
